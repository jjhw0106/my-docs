# 📅 26년 1월 25일 (프론트엔드 작업)

---

### ✅ 1. 데이터 흐름 리팩토링 (Data Flow Refactoring)
**목표:** 플랫폼별 ID(`last_user_platform_id`)와 앱 유저 ID(`last_user_id`)가 혼재되어 발생하던 조회 오류를 해결하고, 앱 유저 ID를 중심으로 데이터 흐름을 일원화한다.

*   **`useAuth` & `LoginForm`**: 로그인 성공 시 `last_user_id`를 로컬 스토리지에 저장하여, 이후 모든 API 통신의 주체(User Context)를 명확히 함.
*   **`[platform].vue` & `useScraper`**:
    *   스크래핑 요청 시: `appUserId` (앱 유저 ID)와 `platformUserId` (플랫폼 로그인 ID)를 명확히 구분하여 서버로 전송.
    *   데이터 조회 시: 더 이상 플랫폼 ID가 아닌 `appUserId`를 사용하여, 해당 유저의 모든 플랫폼 지원 내역을 한 번에 조회하도록 수정.
    *   **성과**: `fetchHistory` 호출 시 0건이 반환되던 문제(ID 불일치) 해결.

### ✅ 2. 레이아웃 시스템 통합 및 개선 (Layout System)
**목표:** `default` 레이아웃과 `dashboard` 레이아웃 간 네비게이션 단절 문제를 해결하고, 일관된 사용자 경험을 제공한다.

*   **컴포넌트 분리**:
    *   `AppHeader.vue`: 상단 네비게이션 바를 별도 컴포넌트로 분리하여 모든 레이아웃에서 재사용.
    *   `AppSidebar.vue`: 대시보드 전용 사이드바를 분리하고, 메뉴 계층 구조(Accordion) 및 자동 열림 기능을 구현.
*   **레이아웃 통합**:
    *   `dashboard.vue`: `AppHeader`를 상단에 고정(`fixed`)하고, 사이드바를 좌측에 배치. 본문 영역(`main`)에 `pt-16` (헤더 높이) 및 `md:pl-64` (사이드바 너비) 패딩을 적용하여 컨텐츠 가림 현상 해결.
    *   이제 어떤 페이지에 있든 상단 메뉴(Home, 주식, My Career)를 통해 자유롭게 이동 가능.

### ✅ 3. UI/UX 개선
*   **Overview 페이지 (`index.vue`)**:
    *   전체 지원 건수, 열람 건수 등 전역 통계를 보여주는 종합 대시보드로 개편.
    *   각 플랫폼별 지원 현황을 카드 형태로 시각화하여 바로가기 제공.
*   **플랫폼별 페이지 (`[platform].vue`)**:
    *   현재 플랫폼의 지원 건수와 전체 누적 지원 건수를 비교해서 보여주는 `Stats Grid` 추가.
    *   `last_user_platform_id` 로컬 스토리지 저장 로직을 제거하여 불필요한 상태 관리 최소화.

---

### 💭 트러블슈팅 & 회고
*   **스크래핑 에러 (`Unsupported platform: 잡코리아`)**: 프론트엔드에서 API 요청 시 인자 순서가 잘못되어 `platformId`('jobkorea') 대신 `platformName`('잡코리아')이 전달되던 문제를 발견. `scrapePlatform` 호출 시그니처를 `appUserId`를 포함하도록 수정하면서 해결함.
*   **PostCSS 에러**: Tailwind의 `@apply` 구문 내에서 `group` 유틸리티 클래스를 사용할 때 빌드 에러 발생. HTML 태그에 직접 `class="group"`을 선언하는 방식으로 우회하여 해결.
*   **레이아웃 겹침**: `fixed` 헤더로 인해 본문 상단이 가려지는 문제는 레이아웃 컴포넌트(`dashboard.vue`)에서 본문 영역에 적절한 `padding-top`을 주어 해결함.
