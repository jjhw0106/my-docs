# 📅 2025년 12월 21일 작업 리포트 (With GEMINI)

## 📝 개요 (Summary)
금일 작업은 **Nuxt 3 프로젝트의 스타일 아키텍처 수정**과 **GEMINI.md 설계 원칙에 따른 로그인 기능 구현**, 그리고 **백엔드(Gateway & Auth Server)와의 실제 API 연동**을 중점적으로 수행하였습니다. CSS 로딩 문제를 해결하고, 비즈니스 로직과 UI가 분리된 로그인 페이지를 완성한 뒤, 실제 로그인 프로세스를 연동했습니다.

---

## 🛠 1. 스타일 아키텍처 개선 (CSS Refactoring)

### 🔴 문제 상황
* `layout.css`와 `pages.css`에 정의된 스타일이 화면에 적용되지 않음.
* Tailwind의 `@apply` 구문이 `@import`된 외부 파일에서 정상적으로 컴파일되지 않거나 우선순위에서 밀리는 현상 발생.

### 🟢 해결 방법
1. **CSS 파일 통합**: 분산되어 있던 스타일 파일(`layout.css`, `pages.css`)을 `assets/css/main.css` 하나로 통합.
2. **Layer 명시**: 모든 커스텀 스타일을 `@layer components { ... }` 블록 내부로 이동시켜 Tailwind가 올바른 우선순위로 처리하도록 수정.
3. **중복 제거**: `pages/index.vue` 내부의 `<style scoped>`를 제거하고 전역 스타일을 따르도록 변경.

---

## 🚀 2. 로그인 기능 구현 및 연동 (Login Feature & Integration)

`GEMINI.md` 원칙 준수 및 Gateway(localhost:8080) 연동을 완료했습니다.

### 🏗 아키텍처 설계 및 구현
| 구분 | 파일 경로 | 역할 및 변경 사항 |
| :--- | :--- | :--- |
| **Config** | `nuxt.config.ts` | `runtimeConfig.public.apiBase`를 Gateway 주소(`http://localhost:8080`)로 설정하여 API 엔드포인트 중앙 관리. |
| **Logic** | `composables/useAuth.ts` | **(변경)** 더미 로직 제거 후 `$fetch`로 실제 API(`/auth/login`) 연동.<br>**(변경)** `useState` 대신 `useCookie`를 사용해 새로고침 시에도 로그인 상태 유지.<br>**(보안)** `credentials: 'include'` 옵션으로 HttpOnly 쿠키(Access Token) 처리. |
| **UI** | `components/domain/LoginForm.vue` | Glassmorphism 디자인이 적용된 로그인 폼. `useAuth` 훅을 통해 로직과 연결. |
| **Layout** | `layouts/default.vue` | **(신규)** 로그인 상태에 따라 Navbar UI 동적 변경 (로그인 버튼 ↔ 환영 메시지 및 로그아웃 버튼). |

### 🎨 디자인 시스템 적용 (Premium Dark Glassmorphism)
* **Glass Effect**: 배경 흐림(`backdrop-blur`) 및 반투명 테두리 적용.
* **Input Style**: 포커스 시 네온 글로우(`ring`) 효과 및 부드러운 전환 애니메이션.
* **Interaction**: 버튼 호버 시 `translateY` 및 그림자 효과로 떠오르는 느낌 구현.

---

## 📂 변경된 파일 목록 (File Changes)

```text
my-nuxt-app/
├── assets/
│   └── css/
│       └── main.css            # [수정] 모든 커스텀 스타일 통합
├── components/
│   └── domain/
│       └── LoginForm.vue       # [신규] 로그인 폼 UI 컴포넌트
├── composables/
│   └── useAuth.ts              # [수정] 인증 비즈니스 로직 및 API 연동
├── layouts/
│   └── default.vue             # [수정] 로그인 상태에 따른 Navbar UI 개선
├── pages/
│   ├── index.vue               # [수정] 중복 스타일 제거
│   └── login.vue               # [수정] 로그인 페이지 구현
├── nuxt.config.ts              # [수정] API Gateway 프록시 설정
└── tailwind.config.js          # [확인] 테마 변수 및 애니메이션 설정 유지
```

---

## ✅ 테스트 정보 (Test Info)
* **테스트 계정**: `admin@example.com` / `password` (실제 백엔드 DB 연동)
* **동작 확인**:
  1. **로그인**: 성공 시 홈(`/`)으로 리다이렉트, Navbar에 "OOO님 환영합니다" 표시.
  2. **상태 유지**: 페이지 새로고침 후에도 로그인 상태 유지 (Cookie 기반).
  3. **로그아웃**: Navbar의 로그아웃 버튼 클릭 시 로그인 페이지로 이동 및 UI 초기화. (현재 클라이언트 쿠키 삭제 방식)